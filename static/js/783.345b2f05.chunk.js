"use strict";(self.webpackChunksecond_app=self.webpackChunksecond_app||[]).push([[783],{6783:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var c=t(2982),r=t(1413),s=t(5861),i=t(885),a=t(7757),o=t.n(a),l=t(2791),u=t(6871),d=t(1088),m=t(2005),h=t(9434),f=t(6303),p=t(68),x=t(6724),j=t(3078),v=t(7420),g=t(887),b=t(184);function k(){var e,n=(0,h.I0)(),t=(0,h.v9)((function(e){return e.cart})),a=(0,h.v9)((function(e){return e.currentUser.user})),k=(0,h.v9)((function(e){return e.isPageDisabled})),w=(0,h.v9)((function(e){return e.allItems})),N=(0,u.UO)().id,y=w[N-1],C=(0,l.useState)((e=y,t.reduce((function(n,t){return t.id===e.id&&n++,n}),0))),I=(0,i.Z)(C,2),Z=I[0],T=I[1],E=(0,l.useState)(0),S=(0,i.Z)(E,2),U=S[0],F=S[1],A=(0,l.useState)(0),q=(0,i.Z)(A,2),D=q[0],J=q[1],M=(0,l.useState)([]),P=(0,i.Z)(M,2),H=P[0],L=P[1],O=(0,l.useState)(null),W=(0,i.Z)(O,2),$=W[0],_=W[1];(0,l.useEffect)((function(){function e(){return(e=(0,s.Z)(o().mark((function e(){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,x.JU)(j.db,"comments","comments".concat(N)),e.next=3,(0,x.QT)(n);case 3:if((t=e.sent).data()){e.next=8;break}return e.next=7,(0,x.pl)(n,{allComments:[]});case 7:return e.abrupt("return");case 8:L(t.data().allComments);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,l.useEffect)((function(){k||_(null)}),[k]),console.log($);var B=new Date;function Q(){return(Q=(0,s.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,g.E)(!0)),r={text:t,profileImage:a.profileImage,username:a.username,fullName:a.fullName,date:"".concat(B.getDate(),"-").concat(B.getMonth(),"-").concat(B.getFullYear()," ").concat(B.getHours(),":").concat(B.getMinutes()),id:(0,m.x0)()},e.next=4,(0,x.r7)((0,x.JU)(j.db,"comments","comments".concat(N)),{allComments:[].concat((0,c.Z)(H),[r])});case 4:L((function(e){return[].concat((0,c.Z)(e),[r])})),n((0,g.E)(!1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=(0,s.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,g.E)(!0)),e.next=3,(0,x.r7)((0,x.JU)(j.db,"comments","comments".concat(N)),{allComments:H.filter((function(e){return e.id!==t}))});case 3:L((function(e){return e.filter((function(e){return e.id!==t}))})),n((0,g.E)(!1));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,b.jsxs)(p.E.div,{className:"div-column",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[k&&($?(0,b.jsx)(d.Tv,{text:"delete your comment",callback:function(){return function(e){return R.apply(this,arguments)}($)}}):(0,b.jsx)(d.FT,{labelText:"Write your comment below",buttonText:"Publish",callback:function(e){return Q.apply(this,arguments)}})),(0,b.jsxs)("div",{className:"item-info-container col-12 col-sm-11 col-md-10 ".concat(k&&"disabled-page"),children:[(0,b.jsx)("div",{className:"item-info-image product-image",children:(0,b.jsx)("img",{src:y.image})}),(0,b.jsxs)("div",{className:"item-info-data",children:[(0,b.jsxs)("div",{className:"item-info-title",children:[(0,b.jsx)("h1",{children:y.title}),(0,b.jsxs)("div",{className:"item-info-review",children:[(0,b.jsxs)("p",{className:"review-counter",children:[U," reviews"]}),(0,b.jsx)("button",{onClick:function(){return setTimeout((function(){F((function(e){return e+1}))}),2e3)},children:(0,b.jsx)("p",{children:"Submit a review"})})]})]}),(0,b.jsxs)("div",{className:"product-prices",children:[(0,b.jsx)("p",{children:"$".concat(y.price.toFixed(2))}),(0,b.jsx)("p",{children:(0,b.jsx)("strike",{children:"$".concat((1.55*y.price).toFixed(2))})}),(0,b.jsx)("p",{children:"35% Off"})]}),(0,b.jsxs)("div",{className:"item-extra-info",children:[(0,b.jsx)("p",{children:"Availability:"}),(0,b.jsx)("p",{children:y.rating.count?"In stock":"Unavailable"}),(0,b.jsx)("p",{children:"Category:"}),(0,b.jsx)("p",{children:y.category[0].toUpperCase()+y.category.slice(1,y.category.length)}),(0,b.jsx)("p",{children:"Free shipping"})]}),(0,b.jsxs)("div",{className:"item-data-counter",children:[(0,b.jsxs)("button",{className:"add-to-cart counter ".concat(t.some((function(e){return e.id===y.id}))&&"disabled-button"),disabled:t.some((function(e){return e.id===y.id})),onClick:function(){T((function(e){return e+1})),n((0,f.Xq)(y))},children:[(0,b.jsx)("img",{src:"../Images/blue-cart.svg"}),(0,b.jsx)("p",{children:"Add To Cart"})]}),(0,b.jsx)(d.AT,{amount:Z,setAmount:T,availableItems:y.rating.count,data:y})]}),(0,b.jsxs)("div",{className:"share-container",children:[(0,b.jsxs)("a",{className:"share-facebook",href:"https://uk-ua.facebook.com/",children:[(0,b.jsx)("img",{src:"../Images/facebook.svg"}),(0,b.jsx)("p",{children:"Share on Facebook"})]}),(0,b.jsxs)("a",{className:"share-twitter",href:"https://twitter.com/?lang=uk",children:[(0,b.jsx)("img",{src:"../Images/twitter.svg"}),(0,b.jsx)("p",{children:"Share on Twitter"})]})]})]})]}),(0,b.jsxs)("div",{className:"product-information col-12 col-sm-11 col-md-10 ".concat(k&&"disabled-page"),children:[(0,b.jsxs)("div",{className:"title",children:[(0,b.jsx)("button",{onClick:function(){return J(0)},className:0===D?"chosen":"not-chosen",children:(0,b.jsx)("p",{children:"Product Information"})}),(0,b.jsx)("button",{onClick:function(){return J(1)},className:1===D?"chosen":"not-chosen",children:(0,b.jsx)("p",{children:"Reviews"})}),1===D&&a.userId&&(0,b.jsx)("button",{className:"add-button",onClick:function(){return n((0,v.k)(!0))},children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})})]}),0===D?(0,b.jsx)("div",{className:"info",children:(0,b.jsx)("p",{children:y.description})}):0===H.length?(0,b.jsx)("div",{className:"info",children:a.userId?(0,b.jsx)("p",{children:"Add your first comment"}):(0,b.jsx)("p",{children:"No comments here yet"})}):(0,b.jsx)("div",{className:"reviews-container",children:H.map((function(e){return(0,l.createElement)(d.Cq,(0,r.Z)((0,r.Z)({},e),{},{currentUser:a.username,callback:function(){_(e.id),n((0,v.k)(!0))},key:e.id}))}))})]}),(0,b.jsx)(d.qp,{id:y.id,category:y.category})]})}}}]);
//# sourceMappingURL=783.345b2f05.chunk.js.map