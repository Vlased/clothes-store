"use strict";(self.webpackChunkclothes_store=self.webpackChunkclothes_store||[]).push([[888],{9888:function(e,c,t){t.r(c),t.d(c,{default:function(){return g}});var n=t(2982),s=t(5861),r=t(885),i=t(7757),a=t.n(i),u=t(2791),o=t(1088),l=t(9434),d=t(6303),h=t(6871),p=t(4615),x=t(70),m=t(6724),j=t(3078),f=t(68),v=t(887),k=t(8504),N=t(184);function g(){var e=(0,l.I0)(),c=(0,l.v9)((function(e){return e.cart})),t=(0,l.v9)((function(e){return e.currentUser.user})),i=(0,h.s0)(),g=(0,u.useState)(!1),y=(0,r.Z)(g,2),b=y[0],C=y[1],I=(0,u.useMemo)((function(){return c.reduce((function(e,c){return e.every((function(e){return e.id!==c.id}))&&e.push(c),e}),[])}),[c]),T=(0,u.useMemo)((function(){return I.map((function(e){return(0,N.jsx)(o.bE,{data:e},e.id)}))}),[I]),E=(0,u.useMemo)((function(){return c.reduce((function(e,c){return e+=null===c||void 0===c?void 0:c.price}),0).toFixed(2)}),[c]);function w(){return(w=(0,s.Z)(a().mark((function s(){var r,u;return a().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(""!==t.userId){s.next=4;break}return e((0,k.t)(!0)),i(p.ym),s.abrupt("return");case 4:return e((0,v.E)(!0)),r=new Date,u=I.map((function(t){var n=c.reduce((function(e,c){return t.id===c.id&&e++,e}),0);console.log(t);var s={name:t.title,amount:n,price:t.price,date:"".concat(r.getDate(),"-").concat(r.getMonth(),"-").concat(r.getFullYear()," ").concat(r.getHours(),":").concat(r.getMinutes()),image:t.image,id:t.id};return e((0,x.I0)(s)),s})),s.next=9,(0,m.r7)((0,m.JU)(j.db,"users",t.userId),{purchasesList:[].concat((0,n.Z)(t.purchasesList),(0,n.Z)(u))});case 9:e((0,d.LL)()),C(!0),setTimeout((function(){return e((0,v.E)(!1))}),1e3);case 12:case"end":return s.stop()}}),s)})))).apply(this,arguments)}return(0,N.jsx)(f.E.div,{className:"div-column",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.length?(0,N.jsxs)("div",{className:"div-column",children:[(0,N.jsx)("div",{className:"grey-area"}),(0,N.jsxs)("div",{className:"cart-container col-12 col-sm-11 col-md-10",children:[(0,N.jsxs)("div",{className:"cart-bar",children:[(0,N.jsx)("p",{children:"PRODUCT"}),(0,N.jsxs)("div",{className:"bar-extra-text",children:[(0,N.jsx)("p",{children:"PRICE"}),(0,N.jsx)("p",{children:"QTY"}),(0,N.jsx)("p",{children:"UNIT PRICE"})]})]}),T]}),(0,N.jsx)("div",{className:"check-out-container col-12 col-sm-11 col-md-10",children:(0,N.jsxs)("div",{className:"check-out",children:[(0,N.jsxs)("div",{className:"check-out-text check-out-p",children:[(0,N.jsx)("p",{children:"Subtotal"}),(0,N.jsxs)("p",{children:["$",E]})]}),(0,N.jsxs)("div",{className:"check-out-text check-out-p",children:[(0,N.jsx)("p",{children:"Shipping fee"}),(0,N.jsx)("p",{children:"No"})]}),(0,N.jsxs)("div",{className:"check-out-text check-out-p",children:[(0,N.jsx)("p",{children:"Coupon"}),(0,N.jsx)("p",{children:"No"})]}),(0,N.jsxs)("div",{className:"check-out-text check-out-p",children:[(0,N.jsx)("p",{children:"TOTAL"}),(0,N.jsxs)("p",{children:["$",E]})]}),(0,N.jsx)("button",{className:"check-out-button",onClick:function(){return w.apply(this,arguments)},children:(0,N.jsx)("h2",{className:"h2-default",children:"Check out"})})]})})]}):(0,N.jsx)("div",{className:"special-message col-10",children:b?(0,N.jsx)("p",{className:"special-message-done",children:"Thank you!"}):(0,N.jsx)("p",{children:"Your cart is empty"})})})}},8504:function(e,c,t){t.d(c,{t:function(){return s}});var n=t(6832);function s(e){return{type:n.i,payload:e}}}}]);
//# sourceMappingURL=888.3593b90a.chunk.js.map