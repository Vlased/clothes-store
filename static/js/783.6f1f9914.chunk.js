"use strict";(self.webpackChunkclothes_store=self.webpackChunkclothes_store||[]).push([[783],{6783:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var c=n(2982),s=n(1413),r=n(5861),i=n(885),a=n(7757),o=n.n(a),l=n(2791),u=n(6871),d=n(1088),m=n(5984),h=n(9434),f=n(6303),x=n(68),p=n(6724),j=n(3078),v=n(7420),g=n(887),b=n(184);function k(){var e,t=(0,h.I0)(),n=(0,h.v9)((function(e){return e.cart})),a=(0,h.v9)((function(e){return e.currentUser.user})),k=(0,h.v9)((function(e){return e.isPageDisabled})),w=(0,h.v9)((function(e){return e.allItems})),N=(0,u.UO)().id,y=w[N-1],C=(0,l.useState)((e=y,n.reduce((function(t,n){return n.id===e.id&&t++,t}),0))),I=(0,i.Z)(C,2),Z=I[0],T=I[1],E=(0,l.useState)(0),S=(0,i.Z)(E,2),U=S[0],F=S[1],A=(0,l.useState)(0),q=(0,i.Z)(A,2),D=q[0],J=q[1],M=(0,l.useState)([]),P=(0,i.Z)(M,2),H=P[0],L=P[1],O=(0,l.useState)(null),W=(0,i.Z)(O,2),$=W[0],_=W[1];(0,l.useEffect)((function(){function e(){return(e=(0,r.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,p.JU)(j.db,"comments","comments".concat(N)),e.next=3,(0,p.QT)(t);case 3:if((n=e.sent).data()){e.next=8;break}return e.next=7,(0,p.pl)(t,{allComments:[]});case 7:return e.abrupt("return");case 8:L(n.data().allComments);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,l.useEffect)((function(){k||_(null)}),[k]),console.log($);var B=new Date;function Q(){return(Q=(0,r.Z)(o().mark((function e(n){var s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,g.E)(!0)),s={text:n,profileImage:a.profileImage,username:a.username,fullName:a.fullName,date:"".concat(B.getDate(),"-").concat(B.getMonth(),"-").concat(B.getFullYear()," ").concat(B.getHours(),":").concat(B.getMinutes()),id:(0,m.x0)()},e.next=4,(0,p.r7)((0,p.JU)(j.db,"comments","comments".concat(N)),{allComments:[].concat((0,c.Z)(H),[s])});case 4:L((function(e){return[].concat((0,c.Z)(e),[s])})),t((0,g.E)(!1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=(0,r.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,g.E)(!0)),e.next=3,(0,p.r7)((0,p.JU)(j.db,"comments","comments".concat(N)),{allComments:H.filter((function(e){return e.id!==n}))});case 3:L((function(e){return e.filter((function(e){return e.id!==n}))})),t((0,g.E)(!1));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,b.jsxs)(x.E.div,{className:"div-column",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[k&&($?(0,b.jsx)(d.Tv,{text:"delete your comment",callback:function(){return function(e){return R.apply(this,arguments)}($)}}):(0,b.jsx)(d.FT,{labelText:"Write your comment below",buttonText:"Publish",callback:function(e){return Q.apply(this,arguments)}})),(0,b.jsxs)("div",{className:"item-info-container col-12 col-sm-11 col-md-10 ".concat(k&&"disabled-page"),children:[(0,b.jsx)("div",{className:"item-info-image product-image",children:(0,b.jsx)("img",{src:y.image})}),(0,b.jsxs)("div",{className:"item-info-data",children:[(0,b.jsxs)("div",{className:"item-info-title",children:[(0,b.jsx)("h1",{children:y.title}),(0,b.jsxs)("div",{className:"item-info-review",children:[(0,b.jsxs)("p",{className:"review-counter",children:[U," reviews"]}),(0,b.jsx)("button",{onClick:function(){return setTimeout((function(){F((function(e){return e+1}))}),2e3)},children:(0,b.jsx)("p",{children:"Submit a review"})})]})]}),(0,b.jsxs)("div",{className:"product-prices",children:[(0,b.jsx)("p",{children:"$".concat(y.price.toFixed(2))}),(0,b.jsx)("p",{children:(0,b.jsx)("strike",{children:"$".concat((1.55*y.price).toFixed(2))})}),(0,b.jsx)("p",{children:"35% Off"})]}),(0,b.jsxs)("div",{className:"item-extra-info",children:[(0,b.jsx)("p",{children:"Availability:"}),(0,b.jsx)("p",{children:y.rating.count?"In stock":"Unavailable"}),(0,b.jsx)("p",{children:"Category:"}),(0,b.jsx)("p",{children:y.category[0].toUpperCase()+y.category.slice(1,y.category.length)}),(0,b.jsx)("p",{children:"Free shipping"})]}),(0,b.jsxs)("div",{className:"item-data-counter",children:[(0,b.jsxs)("button",{className:"add-to-cart counter ".concat(n.some((function(e){return e.id===y.id}))&&"disabled-button"),disabled:n.some((function(e){return e.id===y.id})),onClick:function(){T((function(e){return e+1})),t((0,f.Xq)(y))},children:[(0,b.jsx)("img",{src:"/clothes-store/Images/blue-cart.svg"}),(0,b.jsx)("p",{children:"Add To Cart"})]}),(0,b.jsx)(d.AT,{amount:Z,setAmount:T,availableItems:y.rating.count,data:y})]}),(0,b.jsxs)("div",{className:"share-container",children:[(0,b.jsxs)("a",{className:"share-facebook",href:"https://uk-ua.facebook.com/",children:[(0,b.jsx)("img",{src:"/clothes-store/Images/facebook.svg"}),(0,b.jsx)("p",{children:"Share on Facebook"})]}),(0,b.jsxs)("a",{className:"share-twitter",href:"https://twitter.com/?lang=uk",children:[(0,b.jsx)("img",{src:"/clothes-store/Images/twitter.svg"}),(0,b.jsx)("p",{children:"Share on Twitter"})]})]})]})]}),(0,b.jsxs)("div",{className:"product-information col-12 col-sm-11 col-md-10 ".concat(k&&"disabled-page"),children:[(0,b.jsxs)("div",{className:"title",children:[(0,b.jsx)("button",{onClick:function(){return J(0)},className:0===D?"chosen":"not-chosen",children:(0,b.jsx)("p",{children:"Product Information"})}),(0,b.jsx)("button",{onClick:function(){return J(1)},className:1===D?"chosen":"not-chosen",children:(0,b.jsx)("p",{children:"Reviews"})}),1===D&&a.userId&&(0,b.jsx)("button",{className:"add-button",onClick:function(){return t((0,v.k)(!0))},children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})})]}),0===D?(0,b.jsx)("div",{className:"info",children:(0,b.jsx)("p",{children:y.description})}):0===H.length?(0,b.jsx)("div",{className:"info",children:a.userId?(0,b.jsx)("p",{children:"Add your first comment"}):(0,b.jsx)("p",{children:"No comments here yet"})}):(0,b.jsx)("div",{className:"reviews-container",children:H.map((function(e){return(0,l.createElement)(d.Cq,(0,s.Z)((0,s.Z)({},e),{},{currentUser:a.username,callback:function(){_(e.id),t((0,v.k)(!0))},key:e.id}))}))})]}),(0,b.jsx)(d.qp,{id:y.id,category:y.category})]})}}}]);
//# sourceMappingURL=783.6f1f9914.chunk.js.map