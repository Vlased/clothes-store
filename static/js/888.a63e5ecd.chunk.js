"use strict";(self.webpackChunksecond_app=self.webpackChunksecond_app||[]).push([[888],{9888:function(e,c,n){n.r(c),n.d(c,{default:function(){return g}});var t=n(2982),s=n(5861),r=n(885),i=n(7757),a=n.n(i),u=n(2791),o=n(1088),l=n(9434),d=n(6303),h=n(6871),p=n(4615),x=n(70),m=n(6724),j=n(3078),f=n(68),v=n(887),k=n(8504),N=n(184);function g(){var e=(0,l.I0)(),c=(0,l.v9)((function(e){return e.cart})),n=(0,l.v9)((function(e){return e.currentUser.user})),i=(0,h.s0)(),g=(0,u.useState)(!1),y=(0,r.Z)(g,2),b=y[0],C=y[1],I=(0,u.useMemo)((function(){return c.reduce((function(e,c){return e.every((function(e){return e.id!==c.id}))&&e.push(c),e}),[])}),[c]),T=(0,u.useMemo)((function(){return I.map((function(e){return(0,N.jsx)(o.bE,{data:e},e.id)}))}),[I]),E=(0,u.useMemo)((function(){return c.reduce((function(e,c){return e+=null===c||void 0===c?void 0:c.price}),0).toFixed(2)}),[c]);function w(){return(w=(0,s.Z)(a().mark((function s(){var r,u;return a().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(""!==n.userId){s.next=4;break}return e((0,k.t)(!0)),i(p.ym),s.abrupt("return");case 4:return e((0,v.E)(!0)),r=new Date,u=I.map((function(n){var t=c.reduce((function(e,c){return n.id===c.id&&e++,e}),0);console.log(n);var s={name:n.title,amount:t,price:n.price,date:"".concat(r.getDate(),"-").concat(r.getMonth(),"-").concat(r.getFullYear()," ").concat(r.getHours(),":").concat(r.getMinutes()),image:n.image,id:n.id};return e((0,x.I0)(s)),s})),s.next=9,(0,m.r7)((0,m.JU)(j.db,"users",n.userId),{purchasesList:[].concat((0,t.Z)(n.purchasesList),(0,t.Z)(u))});case 9:e((0,d.LL)()),C(!0),setTimeout((function(){return e((0,v.E)(!1))}),1e3);case 12:case"end":return s.stop()}}),s)})))).apply(this,arguments)}return(0,N.jsx)(f.E.div,{className:"div-column",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.length?(0,N.jsxs)("div",{className:"div-column",children:[(0,N.jsx)("div",{className:"grey-area"}),(0,N.jsxs)("div",{className:"cart-container col-12 col-sm-11 col-md-10",children:[(0,N.jsxs)("div",{className:"cart-bar",children:[(0,N.jsx)("p",{children:"PRODUCT"}),(0,N.jsxs)("div",{className:"bar-extra-text",children:[(0,N.jsx)("p",{children:"PRICE"}),(0,N.jsx)("p",{children:"QTY"}),(0,N.jsx)("p",{children:"UNIT PRICE"})]})]}),T]}),(0,N.jsx)("div",{className:"check-out-container col-12 col-sm-11 col-md-10",children:(0,N.jsxs)("div",{className:"check-out",children:[(0,N.jsxs)("div",{className:"check-out-text check-out-p",children:[(0,N.jsx)("p",{children:"Subtotal"}),(0,N.jsxs)("p",{children:["$",E]})]}),(0,N.jsxs)("div",{className:"check-out-text check-out-p",children:[(0,N.jsx)("p",{children:"Shipping fee"}),(0,N.jsx)("p",{children:"No"})]}),(0,N.jsxs)("div",{className:"check-out-text check-out-p",children:[(0,N.jsx)("p",{children:"Coupon"}),(0,N.jsx)("p",{children:"No"})]}),(0,N.jsxs)("div",{className:"check-out-text check-out-p",children:[(0,N.jsx)("p",{children:"TOTAL"}),(0,N.jsxs)("p",{children:["$",E]})]}),(0,N.jsx)("button",{className:"check-out-button",onClick:function(){return w.apply(this,arguments)},children:(0,N.jsx)("h2",{className:"h2-default",children:"Check out"})})]})})]}):(0,N.jsx)("div",{className:"special-message col-10",children:b?(0,N.jsx)("p",{className:"special-message-done",children:"Thank you!"}):(0,N.jsx)("p",{children:"Your cart is empty"})})})}},8504:function(e,c,n){n.d(c,{t:function(){return s}});var t=n(6832);function s(e){return{type:t.i,payload:e}}}}]);
//# sourceMappingURL=888.a63e5ecd.chunk.js.map